[gd_scene load_steps=16 format=3 uid="uid://giefrwrug3iy"]

[ext_resource type="Script" path="res://demo/multiple_animations.gd" id="1_a5r52"]
[ext_resource type="Script" path="res://addons/godot_vat/vat_multi_mesh_instance_3d.gd" id="1_uylxl"]
[ext_resource type="Shader" path="res://addons/godot_vat/shaders/vat_multiple_anims.gdshader" id="2_5pm6m"]
[ext_resource type="Texture2D" uid="uid://b0678yn2e7i10" path="res://demo/assets/models/skeleton_normals.png" id="3_y0o55"]
[ext_resource type="Texture2D" uid="uid://dhclkkw6efewn" path="res://demo/assets/models/skeleton_offsets.exr" id="4_hem8a"]
[ext_resource type="Texture2D" uid="uid://ch57dnrr25jn3" path="res://demo/assets/models/skeleton_texture.png" id="5_k0vh8"]
[ext_resource type="ArrayMesh" uid="uid://bewi2bstad8fu" path="res://demo/assets/models/skeleton_export_mesh.res" id="6_jfiqc"]
[ext_resource type="Texture2D" uid="uid://baoe11f1xmft0" path="res://demo/assets/images/texture_01.png" id="8_vexae"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_jutc3"]

[sub_resource type="Sky" id="Sky_03w7h"]
sky_material = SubResource("ProceduralSkyMaterial_jutc3")

[sub_resource type="Environment" id="Environment_24kcy"]
background_mode = 2
sky = SubResource("Sky_03w7h")
ambient_light_source = 3

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4v668"]
render_priority = 0
shader = ExtResource("2_5pm6m")
shader_parameter/time_scale = 0.75
shader_parameter/specular = 0.25
shader_parameter/metallic = 0.5
shader_parameter/roughness = 0.5
shader_parameter/offset_map = ExtResource("4_hem8a")
shader_parameter/normal_map = ExtResource("3_y0o55")
shader_parameter/texture_albedo = ExtResource("5_k0vh8")

[sub_resource type="MultiMesh" id="MultiMesh_qlnhw"]
transform_format = 1
use_custom_data = true
instance_count = 90
mesh = ExtResource("6_jfiqc")
buffer = PackedFloat32Array(1, 5, 1, 1, 1, 0.0784314, 0.0714286, 0.2, 1.07686, 4.21964, 1, 1, -2198, 1.39746, 0.0460815, 1.54883, 1.30448, 3.46927, 1, 1, 1, 0.0784314, 0.0823029, 0.148976, 1.67412, 2.77772, 1, 1, -0.00189972, 1.44043, -12720, 1.5, 2.17157, 2.17157, 1, 1, 1, 0.0784314, 0.11327, 0.105719, 2.77772, 1.67412, 1, 1, 0.0319214, 1.50977, -0.000345707, 1.42773, 3.46927, 1.30448, 1, 1, 1, 0.0784314, 0.159617, 0.0768161, 4.21964, 1.07686, 1, 1, -992, 1.56055, -7.74219, 1.3877, 5, 1, 1, 1, 1, 0.0784314, 0.214286, 0.0666667, 21, 1, 1, 1, 0.0178528, 1.82129, -0.000138402, 1.38281, 21.7804, 1.07686, 1, 1, 1, 0.0784314, 0.813584, 0.0692286, 22.5307, 1.30448, 1, 1, 0.0143814, 1.83496, 45.9375, 1.40332, 23.2223, 1.67412, 1, 1, 1, 0.0784314, 0.865081, 0.0891374, 23.8284, 2.17157, 1, 1, 1.07884e-05, 1.84668, -4.96507e-05, 1.46094, 24.3259, 2.77772, 1, 1, 1, 0.0784314, 0.904496, 0.125924, 24.6955, 3.46927, 1, 1, -6344, 1.85352, -0.000308037, 1.52344, 24.9231, 4.21964, 1, 1, 1, 0.0784314, 0.925826, 0.173988, 25, 5, 1, 1, -0.428467, 1.85645, -19.2031, 1.57422, 25, 23, 1, 1, 1, 0.0784314, 0.928571, 0.8, 24.9231, 23.7804, 1, 1, 4.52399e-05, 1.85645, 22624, 1.83105, 24.6955, 24.5307, 1, 1, 1, 0.0784314, 0.917697, 0.851024, 24.3259, 25.2223, 1, 1, -0.000306845, 1.85059, -3.72266, 1.84277, 23.8284, 25.8284, 1, 1, 1, 0.0784314, 0.88673, 0.894281, 23.2223, 26.3259, 1, 1, 24480, 1.84082, 0.0983276, 1.85254, 22.5307, 26.6955, 1, 1, 1, 0.0784314, 0.840383, 0.923184, 21.7804, 26.9231, 1, 1, 7.0625, 1.82813, 7.03516, 1.85742, 21, 27, 1, 1, 1, 0.0784314, 0.785714, 0.933333, 5, 27, 1, 1, 5852, 1.58887, -7100, 1.85742, 4.21964, 26.9231, 1, 1, 1, 0.0784314, 0.186416, 0.930771, 3.46927, 26.6955, 1, 1, 13416, 1.53418, 92.5625, 1.85547, 2.77772, 26.3259, 1, 1, 1, 0.0784314, 0.134919, 0.910863, 2.17157, 25.8284, 1, 1, -51968, 1.47559, -7772, 1.84766, 1.67412, 25.2223, 1, 1, 1, 0.0784314, 0.0955043, 0.874076, 1.30448, 24.5307, 1, 1, -0.000392914, 1.41406, -303.25, 1.83691, 1.07686, 23.7804, 1, 1, 1, 0.0784314, 0.0741735, 0.826012, 1, 23, 1, 1, 10.2891, 1.39258, -19.2031, 1.82422, 1, 5, 1, 1, 1, 0.0784314, 0.0714286, 0.2, 0.5, 5, 1, 1, 5852, 1.33887, -19.2031, 1.57422, 1.07686, 4.21964, 1, 1, 1, 0.0784314, 0.0741735, 0.173988, 0.586466, 4.12209, 1, 1, 0.000952721, 1.35156, -88.625, 1.54492, 1.30448, 3.46927, 1, 1, 1, 0.0784314, 0.0823029, 0.148976, 0.842542, 3.27792, 1, 1, -4.8125, 1.38086, 7.74264e-05, 1.51758, 1.67412, 2.77772, 1, 1, 1, 0.0784314, 0.0955043, 0.125924, 1.25839, 2.49993, 1, 1, 0.114441, 1.41113, -5916, 1.48242, 2.17157, 2.17157, 1, 1, 1, 0.0784314, 0.11327, 0.105719, 1.81802, 1.81802, 1, 1, 0.00606537, 1.45117, 571, 1.4375, 2.77772, 1.67412, 1, 1, 1, 0.0784314, 0.134919, 0.0891374, 2.49993, 1.25839, 1, 1, nan, 1.49902, 0.0651855, 1.40039, 3.46927, 1.30448, 1, 1, 1, 0.0784314, 0.159617, 0.0768161, 3.27792, 0.842542, 1, 1, 14648, 1.52734, -0.000673294, 1.37012, 4.21964, 1.07686, 1, 1, 1, 0.0784314, 0.186416, 0.0692286, 4.12209, 0.586466, 1, 1, 52.0313, 1.55762, -0.0034256, 1.33594, 5, 1, 1, 1, 1, 0.0784314, 0.214286, 0.0666667, 5, 0.5, 1, 1, 5852, 1.58887, -19.2031, 1.32422, 21, 1, 1, 1, 1, 0.0784314, 0.785714, 0.0666667, 21, 0.5, 1, 1, 0.0178528, 1.82129, -19.2031, 1.32422, 21.7804, 1.07686, 1, 1, 1, 0.0784314, 0.813584, 0.0692286, 21.8779, 0.586466, 1, 1, 0.0576172, 1.8291, -0.0034256, 1.33594, 22.5307, 1.30448, 1, 1, 1, 0.0784314, 0.840383, 0.0768161, 22.7221, 0.842542, 1, 1, -923.5, 1.83594, -0.000673294, 1.37012, 23.2223, 1.67412, 1, 1, 1, 0.0784314, 0.865081, 0.0891374, 23.5001, 1.25839, 1, 1, 2.38419e-06, 1.84375, 0.0651855, 1.40039, 23.8284, 2.17157, 1, 1, 1, 0.0784314, 0.88673, 0.105719, 24.182, 1.81802, 1, 1, 1.05566, 1.84961, 571, 1.4375, 24.3259, 2.77772, 1, 1, 1, 0.0784314, 0.904496, 0.125924, 24.7416, 2.49993, 1, 1, 194.75, 1.85449, -5916, 1.48242, 24.6955, 3.46927, 1, 1, 1, 0.0784314, 0.917697, 0.148976, 25.1575, 3.27792, 1, 1, 0.0289001, 1.8584, 7.74264e-05, 1.51758, 24.9231, 4.21964, 1, 1, 1, 0.0784314, 0.925826, 0.173988, 25.4135, 4.12209, 1, 1, nan, 1.86035, -88.625, 1.54492, 25, 5, 1, 1, 1, 0.0784314, 0.928571, 0.2, 25.5, 5, 1, 1, 10.2891, 1.86133, -19.2031, 1.57422, 25, 23, 1, 1, 1, 0.0784314, 0.928571, 0.8, 25.5, 23, 1, 1, 10.2891, 1.86133, -19.2031, 1.82422, 24.9231, 23.7804, 1, 1, 1, 0.0784314, 0.925826, 0.826012, 25.4135, 23.8779, 1, 1, nan, 1.86035, 13.2344, 1.83203, 24.6955, 24.5307, 1, 1, 1, 0.0784314, 0.917697, 0.851024, 25.1575, 24.7221, 1, 1, 0.0289001, 1.8584, nan, 1.83887, 24.3259, 25.2223, 1, 1, 1, 0.0784314, 0.904496, 0.874076, 24.7416, 25.5001, 1, 1, 194.75, 1.85449, 0.0122604, 1.8457, 23.8284, 25.8284, 1, 1, 1, 0.0784314, 0.88673, 0.894281, 24.182, 26.182, 1, 1, 1.05566, 1.84961, -16264, 1.85059, 23.2223, 26.3259, 1, 1, 1, 0.0784314, 0.865081, 0.910863, 23.5001, 26.7416, 1, 1, 2.38419e-06, 1.84375, -0.810059, 1.85547, 22.5307, 26.6955, 1, 1, 1, 0.0784314, 0.840383, 0.923184, 22.7221, 27.1575, 1, 1, -923.5, 1.83594, 6.90234, 1.85938, 21.7804, 26.9231, 1, 1, 1, 0.0784314, 0.813584, 0.930771, 21.8779, 27.4135, 1, 1, 0.0576172, 1.8291, 25856, 1.86133, 21, 27, 1, 1, 1, 0.0784314, 0.785714, 0.933333, 21, 27.5, 1, 1, 0.0178528, 1.82129, 0.224976, 1.8623, 5, 27, 1, 1, 1, 0.0784314, 0.214286, 0.933333, 5, 27.5, 1, 1, 5852, 1.58887, 0.224976, 1.8623, 4.21964, 26.9231, 1, 1, 1, 0.0784314, 0.186416, 0.930771, 4.12209, 27.4135, 1, 1, 52.0313, 1.55762, 25856, 1.86133, 3.46927, 26.6955, 1, 1, 1, 0.0784314, 0.159617, 0.923184, 3.27792, 27.1575, 1, 1, 14648, 1.52734, 6.90234, 1.85938, 2.77772, 26.3259, 1, 1, 1, 0.0784314, 0.134919, 0.910863, 2.49993, 26.7416, 1, 1, nan, 1.49902, -0.810059, 1.85547, 2.17157, 25.8284, 1, 1, 1, 0.0784314, 0.11327, 0.894281, 1.81802, 26.182, 1, 1, 0.00606537, 1.45117, -16264, 1.85059, 1.67412, 25.2223, 1, 1, 1, 0.0784314, 0.0955043, 0.874076, 1.25839, 25.5001, 1, 1, 0.114441, 1.41113, 0.0122604, 1.8457, 1.30448, 24.5307, 1, 1, 1, 0.0784314, 0.0823029, 0.851024, 0.842542, 24.7221, 1, 1, -4.8125, 1.38086, nan, 1.83887, 1.07686, 23.7804, 1, 1, 1, 0.0784314, 0.0741735, 0.826012, 0.586466, 23.8779, 1, 1, 0.000952721, 1.35156, 13.2344, 1.83203, 1, 23, 1, 1, 1, 0.0784314, 0.0714286, 0.8, 0.5, 23, 1, 1, 5852, 1.33887, -19.2031, 1.82422, 0.5, 5, 1, 1, 1, 0.117647, 0.0535714, 0.2, -0.5, 5, 1, 1, 10.2891, 1.14258, -19.2031, 1.57422, 0.586466, 4.12209, 1, 1, 1, 0.117647, 0.0566595, 0.170736, -0.394319, 3.927, 1, 1, 0.279053, 1.17285, 0.0751953, 1.53906, 0.842542, 3.27792, 1, 1, 1, 0.117647, 0.0658051, 0.142597, -0.0813375, 2.89524, 1, 1, 912, 1.25586, -21040, 1.50391, 1.25839, 2.49993, 1, 1, 1, 0.117647, 0.0806567, 0.116664, 0.426917, 1.94436, 1, 1, -1.20508, 1.32813, 7.39098e-06, 1.44629, 1.81802, 1.81802, 1, 1, 1, 0.117647, 0.100644, 0.093934, 1.11091, 1.11091, 1, 1, 1520, 1.40039, 0.00335693, 1.39063, 2.49993, 1.25839, 1, 1, 1, 0.117647, 0.124998, 0.0752796, 1.94436, 0.426917, 1, 1, 254.25, 1.45996, -50.9375, 1.31445, 3.27792, 0.842542, 1, 1, 1, 0.117647, 0.152783, 0.0614181, 2.89524, -0.0813375, 1, 1, 17872, 1.51367, -229.375, 1.24414, 4.12209, 0.586466, 1, 1, 1, 0.117647, 0.182932, 0.0528822, 3.927, -0.394319, 1, 1, 0.125366, 1.55078, 1067, 1.16113, 5, 0.5, 1, 1, 1, 0.117647, 0.214286, 0.05, 5, -0.5, 1, 1, 5852, 1.58887, -0.000138402, 1.13281, 21, 0.5, 1, 1, 1, 0.117647, 0.785714, 0.05, 21, -0.5, 1, 1, 0.0178528, 1.82129, -0.000138402, 1.13281, 21.8779, 0.586466, 1, 1, 1, 0.117647, 0.817068, 0.0528822, 22.073, -0.394319, 1, 1, -16376, 1.83008, 1067, 1.16113, 22.7221, 0.842542, 1, 1, 1, 0.117647, 0.847217, 0.0614181, 23.1048, -0.0813375, 1, 1, 884.5, 1.83984, -229.375, 1.24414, 23.5001, 1.25839, 1, 1, 1, 0.117647, 0.875002, 0.0752796, 24.0556, 0.426917, 1, 1, 0.00110054, 1.84863, -50.9375, 1.31445, 24.182, 1.81802, 1, 1, 1, 0.117647, 0.899356, 0.093934, 24.8891, 1.11091, 1, 1, -0.226807, 1.85547, 0.00335693, 1.39063, 24.7416, 2.49993, 1, 1, 1, 0.117647, 0.919343, 0.116664, 25.5731, 1.94436, 1, 1, -17184, 1.86133, 7.39098e-06, 1.44629, 25.1575, 3.27792, 1, 1, 1, 0.117647, 0.934195, 0.142597, 26.0813, 2.89524, 1, 1, -0.00283432, 1.86621, -21040, 1.50391, 25.4135, 4.12209, 1, 1, 1, 0.117647, 0.94334, 0.170736, 26.3943, 3.927, 1, 1, 26064, 1.86914, 0.0751953, 1.53906, 25.5, 5, 1, 1, 1, 0.117647, 0.946429, 0.2, 26.5, 5, 1, 1, 5852, 1.87012, -19.2031, 1.57422, 25.5, 23, 1, 1, 1, 0.117647, 0.946429, 0.8, 26.5, 23, 1, 1, 5852, 1.87012, -19.2031, 1.82422, 25.4135, 23.8779, 1, 1, 1, 0.117647, 0.94334, 0.829264, 26.3943, 24.073, 1, 1, 26064, 1.86914, -19648, 1.83301, 25.1575, 24.7221, 1, 1, 1, 0.117647, 0.934195, 0.857403, 26.0813, 25.1048, 1, 1, -0.00283432, 1.86621, -3.35742, 1.8418, 24.7416, 25.5001, 1, 1, 1, 0.117647, 0.919343, 0.883336, 25.5731, 26.0556, 1, 1, -17184, 1.86133, -508.25, 1.84961, 24.182, 26.182, 1, 1, 1, 0.117647, 0.899356, 0.906066, 24.8891, 26.8891, 1, 1, -0.226807, 1.85547, nan, 1.85645, 23.5001, 26.7416, 1, 1, 1, 0.117647, 0.875002, 0.92472, 24.0556, 27.5731, 1, 1, 0.00110054, 1.84863, -54.8125, 1.8623, 22.7221, 27.1575, 1, 1, 1, 0.117647, 0.847217, 0.938582, 23.1048, 28.0813, 1, 1, 884.5, 1.83984, 0.0402222, 1.86719, 21.8779, 27.4135, 1, 1, 1, 0.117647, 0.817068, 0.947118, 22.073, 28.3943, 1, 1, -16376, 1.83008, -77.9375, 1.86914, 21, 27.5, 1, 1, 1, 0.117647, 0.785714, 0.95, 21, 28.5, 1, 1, 0.0178528, 1.82129, -0.966797, 1.87012, 5, 27.5, 1, 1, 1, 0.117647, 0.214286, 0.95, 5, 28.5, 1, 1, 5852, 1.58887, -0.966797, 1.87012, 4.12209, 27.4135, 1, 1, 1, 0.117647, 0.182932, 0.947118, 3.927, 28.3943, 1, 1, 0.125366, 1.55078, -77.9375, 1.86914, 3.27792, 27.1575, 1, 1, 1, 0.117647, 0.152783, 0.938582, 2.89524, 28.0813, 1, 1, 17872, 1.51367, 0.0402222, 1.86719, 2.49993, 26.7416, 1, 1, 1, 0.117647, 0.124998, 0.92472, 1.94436, 27.5731, 1, 1, 254.25, 1.45996, -54.8125, 1.8623, 1.81802, 26.182, 1, 1, 1, 0.117647, 0.100644, 0.906066, 1.11091, 26.8891, 1, 1, 1520, 1.40039, nan, 1.85645, 1.25839, 25.5001, 1, 1, 1, 0.117647, 0.0806567, 0.883336, 0.426917, 26.0556, 1, 1, -1.20508, 1.32813, -508.25, 1.84961, 0.842542, 24.7221, 1, 1, 1, 0.117647, 0.0658051, 0.857403, -0.0813375, 25.1048, 1, 1, 912, 1.25586, -3.35742, 1.8418, 0.586466, 23.8779, 1, 1, 1, 0.117647, 0.0566595, 0.829264, -0.394319, 24.073, 1, 1, 0.279053, 1.17285, -19648, 1.83301, 0.5, 23, 1, 1, 1, 0.117647, 0.0535714, 0.8, -0.5, 23, 1, 1, 10.2891, 1.14258, -19.2031, 1.82422)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_uwhhi"]
albedo_texture = ExtResource("8_vexae")
uv1_scale = Vector3(20, 20, 20)

[sub_resource type="PlaneMesh" id="PlaneMesh_jiksp"]
material = SubResource("StandardMaterial3D_uwhhi")
size = Vector2(100, 100)

[node name="MultipleAnimations" type="Node3D"]
script = ExtResource("1_a5r52")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 25, 55)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_24kcy")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.707107, 0.353553, -0.612372, 0, 0.866025, 0.5, 0.707107, -0.353553, 0.612372, 0, 0, 0)
shadow_enabled = true
directional_shadow_mode = 0

[node name="VATMultiMeshInstance3D" type="MultiMeshInstance3D" parent="."]
material_override = SubResource("ShaderMaterial_4v668")
multimesh = SubResource("MultiMesh_qlnhw")
script = ExtResource("1_uylxl")
instance_count = 90
animation_tracks = Array[Vector2i]([Vector2i(0, 39), Vector2i(40, 80), Vector2i(81, 139), Vector2i(140, 242), Vector2i(243, 247)])

[node name="Floor" type="MeshInstance3D" parent="."]
mesh = SubResource("PlaneMesh_jiksp")
