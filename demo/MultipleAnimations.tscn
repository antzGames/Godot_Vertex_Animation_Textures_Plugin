[gd_scene load_steps=16 format=3 uid="uid://giefrwrug3iy"]

[ext_resource type="Script" path="res://demo/multiple_animations.gd" id="1_a5r52"]
[ext_resource type="Script" path="res://addons/godot_vat/vat_multi_mesh_instance_3d.gd" id="1_uylxl"]
[ext_resource type="Shader" path="res://addons/godot_vat/shaders/vat_multiple_anims.gdshader" id="2_5pm6m"]
[ext_resource type="Texture2D" uid="uid://b0678yn2e7i10" path="res://demo/assets/models/skeleton_normals.png" id="3_y0o55"]
[ext_resource type="Texture2D" uid="uid://dhclkkw6efewn" path="res://demo/assets/models/skeleton_offsets.exr" id="4_hem8a"]
[ext_resource type="Texture2D" uid="uid://ch57dnrr25jn3" path="res://demo/assets/models/skeleton_texture.png" id="5_k0vh8"]
[ext_resource type="ArrayMesh" uid="uid://bewi2bstad8fu" path="res://demo/assets/models/skeleton_export_mesh.res" id="6_jfiqc"]
[ext_resource type="Texture2D" uid="uid://baoe11f1xmft0" path="res://demo/assets/images/texture_01.png" id="8_vexae"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_jutc3"]

[sub_resource type="Sky" id="Sky_03w7h"]
sky_material = SubResource("ProceduralSkyMaterial_jutc3")

[sub_resource type="Environment" id="Environment_24kcy"]
background_mode = 2
sky = SubResource("Sky_03w7h")
ambient_light_source = 3

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4v668"]
render_priority = 0
shader = ExtResource("2_5pm6m")
shader_parameter/time_scale = 1.0
shader_parameter/specular = 0.25
shader_parameter/metallic = 0.5
shader_parameter/roughness = 0.5
shader_parameter/offset_map = ExtResource("4_hem8a")
shader_parameter/normal_map = ExtResource("3_y0o55")
shader_parameter/texture_albedo = ExtResource("5_k0vh8")

[sub_resource type="MultiMesh" id="MultiMesh_qlnhw"]
transform_format = 1
use_colors = true
use_custom_data = true
instance_count = 30
mesh = ExtResource("6_jfiqc")
buffer = PackedFloat32Array(6.87072e-33, 6.88038e-43, 6.86736e-33, 6.88038e-43, 6.86766e-33, 6.88038e-43, 6.86797e-33, 6.88038e-43, 6.86858e-33, 6.88038e-43, 6.87133e-33, 6.88038e-43, -0.6875, 0.000184774, 2.92659e-05, 0, -0.0703125, 0.000184774, 2.92659e-05, 0, 6.87225e-33, 6.88038e-43, 6.8698e-33, 6.88038e-43, 6.27002e-30, 6.88038e-43, 6.26798e-30, 6.88038e-43, 6.26939e-30, 6.88038e-43, 6.26845e-30, 6.88038e-43, 0.992188, 0.000426769, 2.92659e-05, 0, 4.0625, 0.000426769, 2.92659e-05, 0, 6.26751e-30, 6.88038e-43, 6.26908e-30, 6.88038e-43, 6.26829e-30, 6.88038e-43, 6.27017e-30, 6.88038e-43, 6.26767e-30, 6.88038e-43, 9.10684e-30, 6.88038e-43, 14.25, 0.00043726, 2.92659e-05, 0, 19, 0.00043726, 2.92659e-05, 0, 8.39925e-30, 6.88038e-43, 8.39674e-30, 6.88038e-43, 8.39705e-30, 6.88038e-43, 8.39392e-30, 6.88038e-43, 8.39424e-30, 6.88038e-43, 8.39768e-30, 6.88038e-43, 320, 0.00043726, 2.92659e-05, 0, 7.875, 0.00043726, 2.92659e-05, 0, 8.52054e-30, 6.88038e-43, 8.52273e-30, 6.88038e-43, 8.52117e-30, 6.88038e-43, 8.5196e-30, 6.88038e-43, 8.39799e-30, 6.88038e-43, 8.39831e-30, 6.88038e-43, 3.5, 0.00043726, 2.92659e-05, 0, 2240, 0.0004282, 2.92659e-05, 0, 6.53102e-30, 6.88038e-43, 6.52977e-30, 6.88038e-43, 6.53665e-30, 6.88038e-43, 6.53008e-30, 6.88038e-43, 6.53885e-30, 6.88038e-43, 6.53728e-30, 6.88038e-43, -6.10352e-05, 0.0004282, 2.92659e-05, 0, 64512, 0.0004282, 2.92659e-05, 0, 6.53071e-30, 6.88038e-43, 6.52758e-30, 6.88038e-43, 6.5354e-30, 6.88038e-43, 6.53697e-30, 6.88038e-43, 6.53916e-30, 6.88038e-43, 6.53321e-30, 6.88038e-43, nan, 0.0004282, 2.92659e-05, 0, -0.00250244, 0.0004282, 2.92659e-05, 0, 6.53791e-30, 6.88038e-43, 6.53603e-30, 6.88038e-43, 6.52852e-30, 6.88038e-43, 6.53384e-30, 6.88038e-43, 6.53165e-30, 6.88038e-43, 6.5304e-30, 6.88038e-43, -0.00427246, 0.0004282, 2.92659e-05, 0, -0.00025177, 0.0004282, 2.92659e-05, 0, 6.53947e-30, 6.88038e-43, 6.53853e-30, 6.88038e-43, 6.53133e-30, 6.88038e-43, 6.52789e-30, 6.88038e-43, 6.53227e-30, 6.88038e-43, 6.53415e-30, 6.88038e-43, 3904, 0.0004282, 2.92659e-05, 0, 5376, 0.0004282, 2.92659e-05, 0, 6.5329e-30, 6.88038e-43, 6.52946e-30, 6.88038e-43, 6.53446e-30, 6.88038e-43, 6.53478e-30, 6.88038e-43, 6.53572e-30, 6.88038e-43, 6.53634e-30, 6.88038e-43, -0.796875, 0.000520706, 2.92659e-05, 0, -0.0268555, 0.000520706, 2.92659e-05, 0, 6541.46, 6.88038e-43, 6547.76, 6.88038e-43, 9.10622e-30, 6.88038e-43, 9.10747e-30, 6.88038e-43, 9.11091e-30, 6.88038e-43, 9.1081e-30, 6.88038e-43, -1.39063, 0.000440598, 2.92659e-05, 0, -23.25, 0.000440598, 2.92659e-05, 0, 9.10872e-30, 6.88038e-43, 9.10966e-30, 6.88038e-43, 9.10997e-30, 6.88038e-43, 9.10591e-30, 6.88038e-43, 9.11029e-30, 6.88038e-43, 9.1106e-30, 6.88038e-43, -0.96875, 0.000450611, 2.92659e-05, 0, 3328, 0.000450611, 2.92659e-05, 0, 1.54105e-29, 6.88038e-43, 1.54086e-29, 6.88038e-43, 1.11794e-29, 6.88038e-43, 1.11635e-29, 6.88038e-43, 1.11563e-29, 6.88038e-43, 1.11766e-29, 6.88038e-43, -111, 5.79688, 2.92659e-05, 0, -348, 5.79688, 2.92659e-05, 0, 6553.45, 6.88038e-43, 6553.24, 6.88038e-43, 6554.05, 6.88038e-43, 6554.66, 6.88038e-43, 6.55074e-33, 6.88038e-43, 6.5486e-33, 6.88038e-43, 1.04904e-05, 0.000184059, 2.92659e-05, 0, 6.00815e-05, 0.000184059, 2.92659e-05, 0, 6.55746e-33, 6.88038e-43, 6.55624e-33, 6.88038e-43, 6.55532e-33, 6.88038e-43, 6.55838e-33, 6.88038e-43, 1.57317e-29, 6.88038e-43, 1.57323e-29, 6.88038e-43, 4.625, 0.000464439, 2.92659e-05, 0, 0.0664063, 0.000464439, 2.92659e-05, 0, 4.61377e-29, 6.88038e-43, 4.61027e-29, 6.88038e-43, 4.61014e-29, 6.88038e-43, 4.61402e-29, 6.88038e-43, 3.38758e-29, 6.88038e-43, 3.39008e-29, 6.88038e-43, -38912, 0.000450373, 2.92659e-05, 0, 5.125, 0.000450611, 2.92659e-05, 0, 4.61202e-29, 6.88038e-43, 4.60789e-29, 6.88038e-43, 4.60614e-29, 6.88038e-43, 4.59988e-29, 6.88038e-43, 4.6139e-29, 6.88038e-43, 4.61527e-29, 6.88038e-43, 48640, 0.000538349, 2.92659e-05, 0, 0.00011158, 0.000538826, 2.92659e-05, 0, 4.61114e-29, 6.88038e-43, 4.60801e-29, 6.88038e-43, 4.60927e-29, 6.88038e-43, 4.60939e-29, 6.88038e-43, 6528.87, 6.88038e-43, 6532.73, 6.88038e-43, 0.0917969, 0.000464439, 2.92659e-05, 0, 0.117188, 0.000464439, 2.92659e-05, 0, 1.57374e-29, 6.88038e-43, 1.57311e-29, 6.88038e-43, 1.11566e-29, 6.88038e-43, 1.11553e-29, 6.88038e-43, 3.38433e-29, 6.88038e-43, 6.73907e-33, 6.88038e-43, -0.0673828, 0.000538349, 2.92659e-05, 0, -3104, 0.000538349, 2.92659e-05, 0, 6.7406e-33, 6.88038e-43, 6.73235e-33, 6.88038e-43, 1.54098e-29, 6.88038e-43, 1.54117e-29, 6.88038e-43, 6.73571e-33, 6.88038e-43, 6.73174e-33, 6.88038e-43, -186, 0.000184417, 2.92659e-05, 0, -1744, 0.000184417, 2.92659e-05, 0, 6.73693e-33, 6.88038e-43, 6.73724e-33, 6.88038e-43, 6.72899e-33, 6.88038e-43, 6.73938e-33, 6.88038e-43, 6.73266e-33, 6.88038e-43, 6.7351e-33, 6.88038e-43, nan, 0.000184417, 2.92659e-05, 0, -134, 0.000184417, 2.92659e-05, 0, 6.73418e-33, 6.88038e-43, 6.72929e-33, 6.88038e-43, 4.60764e-29, 6.88038e-43, 4.61164e-29, 6.88038e-43, 4.60776e-29, 6.88038e-43, 4.6124e-29, 6.88038e-43, 0.00500488, 0.000184536, 2.92659e-05, 0, 2.28882e-05, 0.000184536, 2.92659e-05, 0, 6.74501e-33, 6.88038e-43, 6.74532e-33, 6.88038e-43, 6.74654e-33, 6.88038e-43, 6.74562e-33, 6.88038e-43, 6.74257e-33, 6.88038e-43, 6.7444e-33, 6.88038e-43, 15.25, 0.000450611, 2.92659e-05, 0, 0.00335693, 0.000450611, 2.92659e-05, 0, 1.11547e-29, 6.88038e-43, 1.1146e-29, 6.88038e-43, 1.57342e-29, 6.88038e-43, 1.57355e-29, 6.88038e-43, 1.53936e-29, 6.88038e-43, 1.5403e-29, 6.88038e-43, -28928, 0.000538349, 2.92659e-05, 0, 0.0551758, 0.000538826, 2.92659e-05, 0, 4.61265e-29, 6.88038e-43, 4.6144e-29, 6.88038e-43, 4.61427e-29, 6.88038e-43, 4.60826e-29, 6.88038e-43, 4.61302e-29, 6.88038e-43, 4.61214e-29, 6.88038e-43, -134, 0.000538349, 2.92659e-05, 0, -14.375, 0.000538349, 2.92659e-05, 0, 4.61189e-29, 6.88038e-43, 4.60914e-29, 6.88038e-43, 6551.62, 6.88038e-43, 6552.02, 6.88038e-43, 6529.48, 6.88038e-43, 6532.32, 6.88038e-43, -5440, 0.000538349, 2.92659e-05, 0, -6.3125, 0.000538349, 2.92659e-05, 0, 1.11597e-29, 6.88038e-43, 1.11707e-29, 6.88038e-43, 1.11729e-29, 6.88038e-43, 1.11679e-29, 6.88038e-43, 4.61477e-29, 6.88038e-43, 4.6149e-29, 6.88038e-43, nan, 0.000538349, 2.92659e-05, 0, -1328, 0.000538349, 2.92659e-05, 0, 4.61452e-29, 6.88038e-43, 4.60814e-29, 6.88038e-43, 4.61502e-29, 6.88038e-43, 4.60864e-29, 6.88038e-43, 4.60977e-29, 6.88038e-43, 4.61102e-29, 6.88038e-43, -45.5, 0.000538349, 2.92659e-05, 0, -760, 0.000538349, 2.92659e-05, 0, 4.60889e-29, 6.88038e-43, 4.61152e-29, 6.88038e-43, 4.60751e-29, 6.88038e-43, 4.61052e-29, 6.88038e-43, 4.61139e-29, 6.88038e-43, 4.6129e-29, 6.88038e-43, -0.0927734, 0.000538349, 2.92659e-05, 0, nan, 0.000450373, 2.92659e-05, 0, 1.11431e-29, 6.88038e-43, 1.57192e-29, 6.88038e-43, 1.57248e-29, 6.88038e-43, 1.57217e-29, 6.88038e-43, 1.57236e-29, 6.88038e-43, 4.61515e-29, 6.88038e-43, -0.162109, 0.000538349, 2.92659e-05, 0, -0.867188, 0.000538349, 2.92659e-05, 0)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_uwhhi"]
albedo_texture = ExtResource("8_vexae")
uv1_scale = Vector3(20, 20, 20)

[sub_resource type="PlaneMesh" id="PlaneMesh_jiksp"]
material = SubResource("StandardMaterial3D_uwhhi")
size = Vector2(100, 100)

[node name="MultipleAnimations" type="Node3D"]
script = ExtResource("1_a5r52")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 25, 55)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_24kcy")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.707107, 0.353553, -0.612372, 0, 0.866025, 0.5, 0.707107, -0.353553, 0.612372, 0, 0, 0)
shadow_enabled = true
directional_shadow_mode = 0

[node name="VATMultiMeshInstance3D" type="MultiMeshInstance3D" parent="."]
material_override = SubResource("ShaderMaterial_4v668")
multimesh = SubResource("MultiMesh_qlnhw")
script = ExtResource("1_uylxl")
instance_count = 120
animation_tracks = Array[Vector2i]([Vector2i(0, 39), Vector2i(40, 80), Vector2i(81, 83)])

[node name="Floor" type="MeshInstance3D" parent="."]
mesh = SubResource("PlaneMesh_jiksp")
