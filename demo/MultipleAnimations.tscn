[gd_scene load_steps=16 format=3 uid="uid://giefrwrug3iy"]

[ext_resource type="Script" path="res://demo/multiple_animations.gd" id="1_a5r52"]
[ext_resource type="Script" path="res://addons/godot_vat/vat_multi_mesh_instance_3d.gd" id="1_uylxl"]
[ext_resource type="Shader" path="res://addons/godot_vat/shaders/vat_multiple_anims.gdshader" id="2_5pm6m"]
[ext_resource type="Texture2D" uid="uid://b0678yn2e7i10" path="res://demo/assets/models/skeleton_normals.png" id="3_y0o55"]
[ext_resource type="Texture2D" uid="uid://dhclkkw6efewn" path="res://demo/assets/models/skeleton_offsets.exr" id="4_hem8a"]
[ext_resource type="Texture2D" uid="uid://ch57dnrr25jn3" path="res://demo/assets/models/skeleton_texture.png" id="5_k0vh8"]
[ext_resource type="ArrayMesh" uid="uid://bewi2bstad8fu" path="res://demo/assets/models/skeleton_export_mesh.res" id="6_jfiqc"]
[ext_resource type="Texture2D" uid="uid://baoe11f1xmft0" path="res://demo/assets/images/texture_01.png" id="8_vexae"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_jutc3"]

[sub_resource type="Sky" id="Sky_03w7h"]
sky_material = SubResource("ProceduralSkyMaterial_jutc3")

[sub_resource type="Environment" id="Environment_24kcy"]
background_mode = 2
sky = SubResource("Sky_03w7h")
ambient_light_source = 3

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4v668"]
render_priority = 0
shader = ExtResource("2_5pm6m")
shader_parameter/time_scale = 0.75
shader_parameter/specular = 0.25
shader_parameter/metallic = 0.5
shader_parameter/roughness = 0.5
shader_parameter/offset_map = ExtResource("4_hem8a")
shader_parameter/normal_map = ExtResource("3_y0o55")
shader_parameter/texture_albedo = ExtResource("5_k0vh8")

[sub_resource type="MultiMesh" id="MultiMesh_qlnhw"]
transform_format = 1
use_custom_data = true
instance_count = 90
mesh = ExtResource("6_jfiqc")
buffer = PackedFloat32Array(1, 5, 1, 1, 1, 0.0784314, 0.0714286, 0.0909091, 1.07686, 4.21964, 1, 1, -2198, 1.39746, -30912, 1.40723, 1.30448, 3.46927, 1, 1, 1, 0.0784314, 0.0823029, 0.0677162, 1.67412, 2.77772, 1, 1, -0.00189972, 1.44043, 13448, 1.35352, 2.17157, 2.17157, 1, 1, 1, 0.0784314, 0.11327, 0.0480541, 2.77772, 1.67412, 1, 1, 0.0319214, 1.50977, -21088, 1.28613, 3.46927, 1.30448, 1, 1, 1, 0.0784314, 0.159617, 0.0349164, 4.21964, 1.07686, 1, 1, -992, 1.56055, -1057, 1.25, 5, 1, 1, 1, 1, 0.0784314, 0.214286, 0.030303, 21, 1, 1, 1, 0.0178528, 1.82129, 1.51563, 1.24219, 21.7804, 1.07686, 1, 1, 1, 0.0784314, 0.813584, 0.0314676, 22.5307, 1.30448, 1, 1, 0.0143814, 1.83496, 6.85453e-05, 1.26465, 23.2223, 1.67412, 1, 1, 1, 0.0784314, 0.865081, 0.040517, 23.8284, 2.17157, 1, 1, 1.07884e-05, 1.84668, -70.625, 1.31641, 24.3259, 2.77772, 1, 1, 1, 0.0784314, 0.904496, 0.0572382, 24.6955, 3.46927, 1, 1, -6344, 1.85352, -0.105774, 1.38477, 24.9231, 4.21964, 1, 1, 1, 0.0784314, 0.925826, 0.0790854, 25, 5, 1, 1, -0.428467, 1.85645, 0.102295, 1.43164, 25, 59, 1, 1, 1, 0.0784314, 0.928571, 0.909091, 24.9231, 59.7804, 1, 1, 4.52399e-05, 1.85645, -2.5293, 1.85449, 24.6955, 60.5307, 1, 1, 1, 0.0784314, 0.917697, 0.932284, 24.3259, 61.2223, 1, 1, -0.000306845, 1.85059, 154.875, 1.86035, 23.8284, 61.8284, 1, 1, 1, 0.0784314, 0.88673, 0.951946, 23.2223, 62.3259, 1, 1, 24480, 1.84082, -0.00914001, 1.86426, 22.5307, 62.6955, 1, 1, 1, 0.0784314, 0.840383, 0.965084, 21.7804, 62.9231, 1, 1, 7.0625, 1.82813, -11760, 1.86621, 21, 63, 1, 1, 1, 0.0784314, 0.785714, 0.969697, 5, 63, 1, 1, 5852, 1.58887, 1.51563, 1.86719, 4.21964, 62.9231, 1, 1, 1, 0.0784314, 0.186416, 0.968532, 3.46927, 62.6955, 1, 1, 13416, 1.53418, 0.000471115, 1.86621, 2.77772, 62.3259, 1, 1, 1, 0.0784314, 0.134919, 0.959483, 2.17157, 61.8284, 1, 1, -51968, 1.47559, -0.210083, 1.8623, 1.67412, 61.2223, 1, 1, 1, 0.0784314, 0.0955043, 0.942762, 1.30448, 60.5307, 1, 1, -0.000392914, 1.41406, -0.0480957, 1.85742, 1.07686, 59.7804, 1, 1, 1, 0.0784314, 0.0741735, 0.920915, 1, 59, 1, 1, 10.2891, 1.39258, -0.772949, 1.85156, 1, 5, 1, 1, 1, 0.0784314, 0.0714286, 0.0909091, 0.5, 5, 1, 1, 5852, 1.33887, 0.102295, 1.43164, 1.07686, 4.21964, 1, 1, 1, 0.0784314, 0.0741735, 0.0790854, 0.586466, 4.12209, 1, 1, 0.000952721, 1.35156, -9568, 1.4043, 1.30448, 3.46927, 1, 1, 1, 0.0784314, 0.0823029, 0.0677162, 0.842542, 3.27792, 1, 1, -4.8125, 1.38086, -1.69922, 1.37891, 1.67412, 2.77772, 1, 1, 1, 0.0784314, 0.0955043, 0.0572382, 1.25839, 2.49993, 1, 1, 0.114441, 1.41113, 0.328369, 1.33691, 2.17157, 2.17157, 1, 1, 1, 0.0784314, 0.11327, 0.0480541, 1.81802, 1.81802, 1, 1, 0.00606537, 1.45117, -938, 1.29492, 2.77772, 1.67412, 1, 1, 1, 0.0784314, 0.134919, 0.040517, 2.49993, 1.25839, 1, 1, nan, 1.49902, 0.0324707, 1.26172, 3.46927, 1.30448, 1, 1, 1, 0.0784314, 0.159617, 0.0349164, 3.27792, 0.842542, 1, 1, 14648, 1.52734, -0.213501, 1.22266, 4.21964, 1.07686, 1, 1, 1, 0.0784314, 0.186416, 0.0314676, 4.12209, 0.586466, 1, 1, 52.0313, 1.55762, -3080, 1.19141, 5, 1, 1, 1, 1, 0.0784314, 0.214286, 0.030303, 5, 0.5, 1, 1, 5852, 1.58887, 0.102295, 1.18164, 21, 1, 1, 1, 1, 0.0784314, 0.785714, 0.030303, 21, 0.5, 1, 1, 0.0178528, 1.82129, 0.102295, 1.18164, 21.7804, 1.07686, 1, 1, 1, 0.0784314, 0.813584, 0.0314676, 21.8779, 0.586466, 1, 1, 0.0576172, 1.8291, -3080, 1.19141, 22.5307, 1.30448, 1, 1, 1, 0.0784314, 0.840383, 0.0349164, 22.7221, 0.842542, 1, 1, -923.5, 1.83594, -0.213501, 1.22266, 23.2223, 1.67412, 1, 1, 1, 0.0784314, 0.865081, 0.040517, 23.5001, 1.25839, 1, 1, 2.38419e-06, 1.84375, 0.0324707, 1.26172, 23.8284, 2.17157, 1, 1, 1, 0.0784314, 0.88673, 0.0480541, 24.182, 1.81802, 1, 1, 1.05566, 1.84961, -938, 1.29492, 24.3259, 2.77772, 1, 1, 1, 0.0784314, 0.904496, 0.0572382, 24.7416, 2.49993, 1, 1, 194.75, 1.85449, 0.328369, 1.33691, 24.6955, 3.46927, 1, 1, 1, 0.0784314, 0.917697, 0.0677162, 25.1575, 3.27792, 1, 1, 0.0289001, 1.8584, -1.69922, 1.37891, 24.9231, 4.21964, 1, 1, 1, 0.0784314, 0.925826, 0.0790854, 25.4135, 4.12209, 1, 1, nan, 1.86035, -9568, 1.4043, 25, 5, 1, 1, 1, 0.0784314, 0.928571, 0.0909091, 25.5, 5, 1, 1, 10.2891, 1.86133, 0.102295, 1.43164, 25, 59, 1, 1, 1, 0.0784314, 0.928571, 0.909091, 25.5, 59, 1, 1, 10.2891, 1.86133, -0.772949, 1.85156, 24.9231, 59.7804, 1, 1, 1, 0.0784314, 0.925826, 0.920915, 25.4135, 59.8779, 1, 1, nan, 1.86035, 0.0115585, 1.85547, 24.6955, 60.5307, 1, 1, 1, 0.0784314, 0.917697, 0.932284, 25.1575, 60.7221, 1, 1, 0.0289001, 1.8584, 2126, 1.8584, 24.3259, 61.2223, 1, 1, 1, 0.0784314, 0.904496, 0.942762, 24.7416, 61.5001, 1, 1, 194.75, 1.85449, 4784, 1.86133, 23.8284, 61.8284, 1, 1, 1, 0.0784314, 0.88673, 0.951946, 24.182, 62.182, 1, 1, 1.05566, 1.84961, 0.00070715, 1.86426, 23.2223, 62.3259, 1, 1, 1, 0.0784314, 0.865081, 0.959483, 23.5001, 62.7416, 1, 1, 2.38419e-06, 1.84375, 1.37207, 1.86621, 22.5307, 62.6955, 1, 1, 1, 0.0784314, 0.840383, 0.965084, 22.7221, 63.1575, 1, 1, -923.5, 1.83594, -205.125, 1.86719, 21.7804, 62.9231, 1, 1, 1, 0.0784314, 0.813584, 0.968532, 21.8779, 63.4135, 1, 1, 0.0576172, 1.8291, -149.875, 1.86816, 21, 63, 1, 1, 1, 0.0784314, 0.785714, 0.969697, 21, 63.5, 1, 1, 0.0178528, 1.82129, 0.102295, 1.86914, 5, 63, 1, 1, 1, 0.0784314, 0.214286, 0.969697, 5, 63.5, 1, 1, 5852, 1.58887, 0.102295, 1.86914, 4.21964, 62.9231, 1, 1, 1, 0.0784314, 0.186416, 0.968532, 4.12209, 63.4135, 1, 1, 52.0313, 1.55762, -149.875, 1.86816, 3.46927, 62.6955, 1, 1, 1, 0.0784314, 0.159617, 0.965084, 3.27792, 63.1575, 1, 1, 14648, 1.52734, -205.125, 1.86719, 2.77772, 62.3259, 1, 1, 1, 0.0784314, 0.134919, 0.959483, 2.49993, 62.7416, 1, 1, nan, 1.49902, 1.37207, 1.86621, 2.17157, 61.8284, 1, 1, 1, 0.0784314, 0.11327, 0.951946, 1.81802, 62.182, 1, 1, 0.00606537, 1.45117, 0.00070715, 1.86426, 1.67412, 61.2223, 1, 1, 1, 0.0784314, 0.0955043, 0.942762, 1.25839, 61.5001, 1, 1, 0.114441, 1.41113, 4784, 1.86133, 1.30448, 60.5307, 1, 1, 1, 0.0784314, 0.0823029, 0.932284, 0.842542, 60.7221, 1, 1, -4.8125, 1.38086, 2126, 1.8584, 1.07686, 59.7804, 1, 1, 1, 0.0784314, 0.0741735, 0.920915, 0.586466, 59.8779, 1, 1, 0.000952721, 1.35156, 0.0115585, 1.85547, 1, 59, 1, 1, 1, 0.0784314, 0.0714286, 0.909091, 0.5, 59, 1, 1, 5852, 1.33887, -0.772949, 1.85156, 0.5, 5, 1, 1, 1, 0.117647, 0.0535714, 0.0909091, -0.5, 5, 1, 1, 10.2891, 1.14258, 0.102295, 1.43164, 0.586466, 4.12209, 1, 1, 1, 0.117647, 0.0566595, 0.0776075, -0.394319, 3.927, 1, 1, 0.279053, 1.17285, -886, 1.39844, 0.842542, 3.27792, 1, 1, 1, 0.117647, 0.0658051, 0.064817, -0.0813375, 2.89524, 1, 1, 912, 1.25586, -1.42578, 1.36035, 1.25839, 2.49993, 1, 1, 1, 0.117647, 0.0806567, 0.0530293, 0.426917, 1.94436, 1, 1, -1.20508, 1.32813, -0.827637, 1.30273, 1.81802, 1.81802, 1, 1, 1, 0.117647, 0.100644, 0.0426973, 1.11091, 1.11091, 1, 1, 1520, 1.40039, 1.77026e-05, 1.25293, 2.49993, 1.25839, 1, 1, 1, 0.117647, 0.124998, 0.034218, 1.94436, 0.426917, 1, 1, 254.25, 1.45996, 0.0042305, 1.17285, 3.27792, 0.842542, 1, 1, 1, 0.117647, 0.152783, 0.0279173, 2.89524, -0.0813375, 1, 1, 17872, 1.51367, 0.00030899, 1.09766, 4.12209, 0.586466, 1, 1, 1, 0.117647, 0.182932, 0.0240374, 3.927, -0.394319, 1, 1, 0.125366, 1.55078, 226, 1.02148, 5, 0.5, 1, 1, 1, 0.117647, 0.214286, 0.0227273, 5, -0.5, 1, 1, 5852, 1.58887, 1.51563, 0.996094, 21, 0.5, 1, 1, 1, 0.117647, 0.785714, 0.0227273, 21, -0.5, 1, 1, 0.0178528, 1.82129, 1.51563, 0.996094, 21.8779, 0.586466, 1, 1, 1, 0.117647, 0.817068, 0.0240374, 22.073, -0.394319, 1, 1, -16376, 1.83008, 226, 1.02148, 22.7221, 0.842542, 1, 1, 1, 0.117647, 0.847217, 0.0279173, 23.1048, -0.0813375, 1, 1, 884.5, 1.83984, 0.00030899, 1.09766, 23.5001, 1.25839, 1, 1, 1, 0.117647, 0.875002, 0.034218, 24.0556, 0.426917, 1, 1, 0.00110054, 1.84863, 0.0042305, 1.17285, 24.182, 1.81802, 1, 1, 1, 0.117647, 0.899356, 0.0426973, 24.8891, 1.11091, 1, 1, -0.226807, 1.85547, 1.77026e-05, 1.25293, 24.7416, 2.49993, 1, 1, 1, 0.117647, 0.919343, 0.0530293, 25.5731, 1.94436, 1, 1, -17184, 1.86133, -0.827637, 1.30273, 25.1575, 3.27792, 1, 1, 1, 0.117647, 0.934195, 0.064817, 26.0813, 2.89524, 1, 1, -0.00283432, 1.86621, -1.42578, 1.36035, 25.4135, 4.12209, 1, 1, 1, 0.117647, 0.94334, 0.0776075, 26.3943, 3.927, 1, 1, 26064, 1.86914, -886, 1.39844, 25.5, 5, 1, 1, 1, 0.117647, 0.946429, 0.0909091, 26.5, 5, 1, 1, 5852, 1.87012, 0.102295, 1.43164, 25.5, 59, 1, 1, 1, 0.117647, 0.946429, 0.909091, 26.5, 59, 1, 1, 5852, 1.87012, -0.772949, 1.85156, 25.4135, 59.8779, 1, 1, 1, 0.117647, 0.94334, 0.922393, 26.3943, 60.073, 1, 1, 26064, 1.86914, -977.5, 1.85547, 25.1575, 60.7221, 1, 1, 1, 0.117647, 0.934195, 0.935183, 26.0813, 61.1048, 1, 1, -0.00283432, 1.86621, -1061, 1.85938, 24.7416, 61.5001, 1, 1, 1, 0.117647, 0.919343, 0.946971, 25.5731, 62.0556, 1, 1, -17184, 1.86133, -0.00105858, 1.86328, 24.182, 62.182, 1, 1, 1, 0.117647, 0.899356, 0.957303, 24.8891, 62.8891, 1, 1, -0.226807, 1.85547, -31.7188, 1.86621, 23.5001, 62.7416, 1, 1, 1, 0.117647, 0.875002, 0.965782, 24.0556, 63.5731, 1, 1, 0.00110054, 1.84863, 29136, 1.86914, 22.7221, 63.1575, 1, 1, 1, 0.117647, 0.847217, 0.972083, 23.1048, 64.0813, 1, 1, 884.5, 1.83984, 7984, 1.87109, 21.8779, 63.4135, 1, 1, 1, 0.117647, 0.817068, 0.975963, 22.073, 64.3943, 1, 1, -16376, 1.83008, -0.0256805, 1.87207, 21, 63.5, 1, 1, 1, 0.117647, 0.785714, 0.977273, 21, 64.5, 1, 1, 0.0178528, 1.82129, 0.000458717, 1.87305, 5, 63.5, 1, 1, 1, 0.117647, 0.214286, 0.977273, 5, 64.5, 1, 1, 5852, 1.58887, 0.000458717, 1.87305, 4.12209, 63.4135, 1, 1, 1, 0.117647, 0.182932, 0.975963, 3.927, 64.3943, 1, 1, 0.125366, 1.55078, -0.0256805, 1.87207, 3.27792, 63.1575, 1, 1, 1, 0.117647, 0.152783, 0.972083, 2.89524, 64.0813, 1, 1, 17872, 1.51367, 7984, 1.87109, 2.49993, 62.7416, 1, 1, 1, 0.117647, 0.124998, 0.965782, 1.94436, 63.5731, 1, 1, 254.25, 1.45996, 29136, 1.86914, 1.81802, 62.182, 1, 1, 1, 0.117647, 0.100644, 0.957303, 1.11091, 62.8891, 1, 1, 1520, 1.40039, -31.7188, 1.86621, 1.25839, 61.5001, 1, 1, 1, 0.117647, 0.0806567, 0.946971, 0.426917, 62.0556, 1, 1, -1.20508, 1.32813, -0.00105858, 1.86328, 0.842542, 60.7221, 1, 1, 1, 0.117647, 0.0658051, 0.935183, -0.0813375, 61.1048, 1, 1, 912, 1.25586, -1061, 1.85938, 0.586466, 59.8779, 1, 1, 1, 0.117647, 0.0566595, 0.922393, -0.394319, 60.073, 1, 1, 0.279053, 1.17285, -977.5, 1.85547, 0.5, 59, 1, 1, 1, 0.117647, 0.0535714, 0.909091, -0.5, 59, 1, 1, 10.2891, 1.14258, -0.772949, 1.85156)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_uwhhi"]
albedo_texture = ExtResource("8_vexae")
uv1_scale = Vector3(20, 20, 20)

[sub_resource type="PlaneMesh" id="PlaneMesh_jiksp"]
material = SubResource("StandardMaterial3D_uwhhi")
size = Vector2(100, 100)

[node name="MultipleAnimations" type="Node3D"]
script = ExtResource("1_a5r52")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 25, 55)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_24kcy")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.707107, 0.353553, -0.612372, 0, 0.866025, 0.5, 0.707107, -0.353553, 0.612372, 0, 0, 0)
shadow_enabled = true
directional_shadow_mode = 0

[node name="VATMultiMeshInstance3D" type="MultiMeshInstance3D" parent="."]
material_override = SubResource("ShaderMaterial_4v668")
multimesh = SubResource("MultiMesh_qlnhw")
script = ExtResource("1_uylxl")
instance_count = 90
animation_tracks = Array[Vector2i]([Vector2i(0, 39), Vector2i(40, 80), Vector2i(81, 139), Vector2i(140, 242), Vector2i(243, 247)])

[node name="Floor" type="MeshInstance3D" parent="."]
mesh = SubResource("PlaneMesh_jiksp")
