[gd_scene load_steps=16 format=3 uid="uid://giefrwrug3iy"]

[ext_resource type="Script" path="res://demo/multiple_animations.gd" id="1_a5r52"]
[ext_resource type="Script" path="res://addons/godot_vat/vat_multi_mesh_instance_3d.gd" id="1_uylxl"]
[ext_resource type="Shader" path="res://addons/godot_vat/shaders/vat_multiple_anims.gdshader" id="2_5pm6m"]
[ext_resource type="Texture2D" uid="uid://b0678yn2e7i10" path="res://demo/assets/models/skeleton_normals.png" id="3_y0o55"]
[ext_resource type="Texture2D" uid="uid://dhclkkw6efewn" path="res://demo/assets/models/skeleton_offsets.exr" id="4_hem8a"]
[ext_resource type="Texture2D" uid="uid://ch57dnrr25jn3" path="res://demo/assets/models/skeleton_texture.png" id="5_k0vh8"]
[ext_resource type="ArrayMesh" uid="uid://ser3u8cvloqa" path="res://demo/assets/models/skeleton_export_mesh.res" id="6_35vee"]
[ext_resource type="Texture2D" uid="uid://baoe11f1xmft0" path="res://demo/assets/images/texture_01.png" id="8_vexae"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_jutc3"]

[sub_resource type="Sky" id="Sky_03w7h"]
sky_material = SubResource("ProceduralSkyMaterial_jutc3")

[sub_resource type="Environment" id="Environment_24kcy"]
background_mode = 2
sky = SubResource("Sky_03w7h")
ambient_light_source = 3

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4v668"]
render_priority = 0
shader = ExtResource("2_5pm6m")
shader_parameter/fps = 12.0
shader_parameter/specular = 0.25
shader_parameter/metallic = 0.5
shader_parameter/roughness = 0.5
shader_parameter/offset_map = ExtResource("4_hem8a")
shader_parameter/normal_map = ExtResource("3_y0o55")
shader_parameter/texture_albedo = ExtResource("5_k0vh8")

[sub_resource type="MultiMesh" id="MultiMesh_qlnhw"]
transform_format = 1
use_custom_data = true
instance_count = 108
mesh = ExtResource("6_35vee")
buffer = PackedFloat32Array(1.27426e+09, 0, 1.27388e+09, 0, 1.27415e+09, 0, 1.27442e+09, 0, 1.27431e+09, 0, 1.27372e+09, 0, -35.5, 26.3594, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4.98732e+09, 0, 4.98711e+09, 0, 4.98796e+09, 0, 4.98881e+09, 0, 4.98626e+09, 0, 6.40345e+09, 0, -3.46875, 30.9688, 0, 0, 6.40324e+09, 0, 6.40004e+09, 0, 6.4026e+09, 0, 6.40047e+09, 0, 6.40281e+09, 0, 6.40217e+09, 0, -1.51563, 30.9688, 0, 0, 6.40537e+09, 0, 6.40111e+09, 0, 6.40643e+09, 0, 6.40686e+09, 0, 6.40728e+09, 0, 6.40579e+09, 0, -25.25, 30.9688, 0, 0, 6.40153e+09, 0, 6.40771e+09, 0, 6.4075e+09, 0, 6.40451e+09, 0, 6.40494e+09, 0, 6.40302e+09, 0, -14.125, 30.9688, 0, 0, 6.406e+09, 0, 6.40558e+09, 0, 6.40515e+09, 0, 6.39983e+09, 0, 6.40473e+09, 0, 6.40409e+09, 0, 6.38962e-05, 30.5625, 0, 0, 6.41154e+09, 0, 6.40899e+09, 0, 6.41176e+09, 0, 6.41005e+09, 0, 6.4092e+09, 0, 6.41261e+09, 0, 0.00044632, 30.9844, 0, 0, 6.40963e+09, 0, 6.41026e+09, 0, 6.41069e+09, 0, 6.41197e+09, 0, 6.41218e+09, 0, 6.41239e+09, 0, -712, 6.67572e-05, 0, 0, 4.03322e+09, 0, 4.03141e+09, 0, 4.10539e+09, 0, 5.28315e-36, 0, 5.28121e-36, 0, 4.10774e+09, 0, 8.29697e-05, 29.8125, 0, 0, 4.09272e+09, 0, 4.09283e+09, 0, 6.40835e+09, 0, 5.53916e+09, 0, 5.54129e+09, 0, 6.41303e+09, 0, -936, 29.7969, 0, 0, 4.09432e+09, 0, 4.09304e+09, 0, 4.09453e+09, 0, 4.09464e+09, 0, 5.52851e+09, 0, 5.53277e+09, 0, -308, 29.7969, 0, 0, 5.26718e-36, 0, 5.26256e-36, 0, 6.40622e+09, 0, 6.39961e+09, 0, 4.09581e+09, 0, 4.09591e+09, 0, 22.75, 29.75, 0, 0, 5.52894e+09, 0, 5.5381e+09, 0, 6.40984e+09, 0, 6.41282e+09, 0, 2.64384e-36, 0, 2.64391e-36, 0, -2080, 6.67572e-05, 0, 0, 5.54598e+09, 0, 5.54512e+09, 0, 5.54214e+09, 0, 5.54235e+09, 0, 5.54385e+09, 0, 5.54406e+09, 0, -0.000278473, 7.43866e-05, 0, 0, 5.52638e+09, 0, 5.2745e-36, 0, 5.27106e-36, 0, 5.27375e-36, 0, 5.27405e-36, 0, 4.09197e+09, 0, -508, 6.67572e-05, 0, 0, 2.64354e-36, 0, 5.54661e+09, 0, 5.54725e+09, 0, 5.26957e-36, 0, 5.2639e-36, 0, 5.26987e-36, 0, 0.0551758, 7.43866e-05, 0, 0, 5.27524e-36, 0, 5.52233e+09, 0, 5.51978e+09, 0, 5.27121e-36, 0, 5.2742e-36, 0, 5.27435e-36, 0, 2.09375, 7.43866e-05, 0, 0, 5.27077e-36, 0, 5.27599e-36, 0, 5.27614e-36, 0, 5.27032e-36, 0, 5.27047e-36, 0, 5.52148e+09, 0, -0.000142932, 30.5625, 0, 0, 5.52191e+09, 0, 5.52276e+09, 0, 5.26659e-36, 0, 5.5251e+09, 0, 5.5168e+09, 0, 5.52532e+09, 0, -0.488037, 30.5625, 0, 0, 5.52617e+09, 0, 5.52745e+09, 0, 5.27644e-36, 0, 5.27703e-36, 0, 5.27838e-36, 0, 5.27868e-36, 0, -0.00350761, 7.43866e-05, 0, 0, 5.2651e-36, 0, 5.28181e-36, 0, 5.28285e-36, 0, 5.283e-36, 0, 4.09496e+09, 0, 4.09506e+09, 0, -21248, 29.7969, 0, 0, 5.28345e-36, 0, 5.28076e-36, 0, 4.09474e+09, 0, 4.09528e+09, 0, 5.53107e+09, 0, 5.52979e+09, 0, -0.0192719, 7.43866e-05, 0, 0, 5.28196e-36, 0, 5.28211e-36, 0, 5.28256e-36, 0, 2.64055e-36, 0, 5.5349e+09, 0, 5.27808e-36, 0, nan, 7.43866e-05, 0, 0, 2.64085e-36, 0, 2.6416e-36, 0, 5.27062e-36, 0, 5.27494e-36, 0, 5.27539e-36, 0, 5.27196e-36, 0, -0.456787, 6.67572e-05, 0, 0, 5.5283e+09, 0, 5.53682e+09, 0, 2.63996e-36, 0, 2.64093e-36, 0, 2.6419e-36, 0, 2.64063e-36, 0, -0.00518799, 6.67572e-05, 0, 0, 2.63973e-36, 0, 2.63958e-36, 0, 2.64473e-36, 0, 2.64451e-36, 0, 5.54086e+09, 0, 5.54108e+09, 0, -6720, 6.67572e-05, 0, 0, 5.2739e-36, 0, 5.273e-36, 0, 2.64436e-36, 0, 2.64443e-36, 0, 5.27181e-36, 0, 5.27241e-36, 0, nan, 6.67572e-05, 0, 0, 2.64488e-36, 0, 2.64496e-36, 0, 5.27256e-36, 0, 5.27465e-36, 0, 2.64182e-36, 0, 2.63988e-36, 0, 2464, 7.43866e-05, 0, 0, 2.64003e-36, 0, 2.64197e-36, 0, 2.64205e-36, 0, 2.641e-36, 0, 2.6422e-36, 0, 2.63936e-36, 0, 52736, 29.8125, 0, 0, 4.10188e+09, 0, 4.09879e+09, 0, 4.10198e+09, 0, 4.10209e+09, 0, 4.10252e+09, 0, 2.64212e-36, 0, 54784, 7.43866e-05, 0, 0, 5.27942e-36, 0, 5.27897e-36, 0, 5.27957e-36, 0, 5.27763e-36, 0, 5.27987e-36, 0, 5.28032e-36, 0, -0.757813, 7.43866e-05, 0, 0, 5.28226e-36, 0, 4.09666e+09, 0, 4.09677e+09, 0, 4.0973e+09, 0, 5.28241e-36, 0, 2.63929e-36, 0, -0.000724316, 6.67572e-05, 0, 0, 2.64018e-36, 0, 5.28062e-36, 0, 5.2827e-36, 0, 2.64108e-36, 0, 5.5398e+09, 0, 5.54001e+09, 0, -13.625, 6.67572e-05, 0, 0, 5.2836e-36, 0, 5.28151e-36, 0, 5.28166e-36, 0, 5.2839e-36, 0, 2.64026e-36, 0, 2.64227e-36, 0, -79, 7.4327e-05, 0, 0, 5.26644e-36, 0, 5.26465e-36, 0, 4.10305e+09, 0, 4.10337e+09, 0, 4.09922e+09, 0, 6.33834e+29, 0, -17.25, 27.0938, 0, 0, 2.80873e+09, 0, 2.64235e-36, 0, 2.64041e-36, 0, 2.64115e-36, 0, 2.63951e-36, 0, 2.64078e-36, 0, -0.021225, 6.67572e-05, 0, 0, -2.37041e+20, 8.39378e-43, -2.36683e+20, 8.39378e-43, -2.36785e+20, 8.39378e-43, -2.36602e+20, 8.39378e-43, -2.36617e+20, 8.39378e-43, -6.49056e+32, 1.62384e-38, 0.0142822, -778, 3.57032e-05, 0, -2.3669e+20, 8.39378e-43, -2.36836e+20, 8.39378e-43, -2.36697e+20, 8.39378e-43, -2.36756e+20, 8.39378e-43, -2.36705e+20, 8.39378e-43, -2.36719e+20, 8.39378e-43, 37, -678.5, 3.57032e-05, 0, -2.36727e+20, 8.39378e-43, -2.36632e+20, 8.39378e-43, -2.36573e+20, 8.39378e-43, -2.36661e+20, 8.39378e-43, -2.36851e+20, 8.39378e-43, -2.36734e+20, 8.39378e-43, 832, -678.5, 3.57032e-05, 0, -2.36639e+20, 8.39378e-43, -2.3661e+20, 8.39378e-43, -2.36624e+20, 8.39378e-43, -2.368e+20, 8.39378e-43, -2.36566e+20, 8.39378e-43, -2.36749e+20, 8.39378e-43, 10496, -678.5, 3.57032e-05, 0, -2.36771e+20, 8.39378e-43, -2.3658e+20, 8.39378e-43, -2.36646e+20, 8.39378e-43, -2.36807e+20, 8.39378e-43, -2.36866e+20, 8.39378e-43, -2.36873e+20, 8.39378e-43, 1888, -678.5, 3.57032e-05, 0, -2.36588e+20, 8.39378e-43, -2.3688e+20, 8.39378e-43, -2.36595e+20, 8.39378e-43, -2.36675e+20, 8.39378e-43, -2.36888e+20, 8.39378e-43, -2.36924e+20, 8.39378e-43, 56320, -678.5, 3.57032e-05, 0, -2.3691e+20, 8.39378e-43, -2.36917e+20, 8.39378e-43, -2.36932e+20, 8.39378e-43, -2.36939e+20, 8.39378e-43, -2.36946e+20, 8.39378e-43, -2.36954e+20, 8.39378e-43, -0.000120163, -678.5, 3.57032e-05, 0, -2.36968e+20, 8.39378e-43, -2.36975e+20, 8.39378e-43, -2.36983e+20, 8.39378e-43, -2.37027e+20, 8.39378e-43, -2.3699e+20, 8.39378e-43, -2.36997e+20, 8.39378e-43, -0.00088501, -678.5, 3.57032e-05, 0)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_uwhhi"]
albedo_texture = ExtResource("8_vexae")
uv1_scale = Vector3(20, 20, 20)

[sub_resource type="PlaneMesh" id="PlaneMesh_jiksp"]
material = SubResource("StandardMaterial3D_uwhhi")
size = Vector2(100, 100)

[node name="MultipleAnimations" type="Node3D"]
script = ExtResource("1_a5r52")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 25, 55)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_24kcy")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.707107, 0.353553, -0.612372, 0, 0.866025, 0.5, 0.707107, -0.353553, 0.612372, 0, 0, 0)
shadow_enabled = true
directional_shadow_mode = 0

[node name="VATMultiMeshInstance3D" type="MultiMeshInstance3D" parent="."]
material_override = SubResource("ShaderMaterial_4v668")
multimesh = SubResource("MultiMesh_qlnhw")
script = ExtResource("1_uylxl")
instance_count = 108
animation_tracks = Array[Vector2i]([Vector2i(0, 25), Vector2i(26, 58), Vector2i(59, 116), Vector2i(117, 157), Vector2i(158, 174), Vector2i(175, 226), Vector2i(227, 252), Vector2i(253, 325), Vector2i(326, 357), Vector2i(358, 389), Vector2i(390, 475), Vector2i(476, 508), Vector2i(509, 537), Vector2i(538, 554), Vector2i(555, 583), Vector2i(584, 622), Vector2i(623, 661), Vector2i(662, 686), Vector2i(687, 706), Vector2i(707, 711)])

[node name="Floor" type="MeshInstance3D" parent="."]
mesh = SubResource("PlaneMesh_jiksp")
